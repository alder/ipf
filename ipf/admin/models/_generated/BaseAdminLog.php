<?php

/**
 * This class has been auto-generated by the IPF_ORM Framework.
 * Changes to this file may cause incorrect behavior
 * and will be lost if the code is regenerated.
 */

abstract class BaseAdminLog extends IPF_ORM_Record
{
  public function setTableDefinition()
  {
    $table = $this->getTable();
    $table->setTableName('admin_log');
    $this->getTable()->setColumn('username', 'string', 32, array('type' => 'string', 'length' => '32'));
    $this->getTable()->setColumn('user_id', 'integer', null, array('type' => 'integer'));
    $this->getTable()->setColumn('object_id', 'integer', null, array('type' => 'integer'));
    $this->getTable()->setColumn('object_class', 'string', 200, array('type' => 'string', 'length' => '200'));
    $this->getTable()->setColumn('object_repr', 'string', 200, array('type' => 'string', 'length' => '200'));
    $this->getTable()->setColumn('action_flag', 'integer', null, array('type' => 'integer'));
    $this->getTable()->setColumn('change_message', 'string', 200, array('type' => 'string', 'length' => '200'));
    $table->addIndex('idx_object_id', array('fields' => 'object_id'));
    $table->addIndex('idx_object_class', array('fields' => 'object_class'));
    $table->addIndex('idx_created_at', array('fields' => 'created_at'));
    $table->addIndex('idx_action_flag', array('fields' => 'action_flag'));
    $this->option('type', 'INNODB');
    $this->option('collate', 'utf8_unicode_ci');
    $this->option('charset', 'utf8');

  }

  public function setUp()
  {
    $this->getTable()->addTemplate(new IPF_ORM_Template_Timestampable(array('updated' => array('disabled' => true))));
  }

  public static function table()
  {
    return IPF_ORM::getTable('AdminLog');
  }

  public static function query($alias='')
  {
    return IPF_ORM::getTable('AdminLog')->createQuery($alias);
  }
}